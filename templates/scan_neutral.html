{% extends "index.html" %}

{% block title %}Scanner{% endblock %}

{% block logout_display %}block{% endblock %}

{% block styles %}
<link rel="stylesheet" href="{{ url_for('static', filename='scan_neutral.css') }}?t={{ time }}">
{% endblock %}


{% block scripts %}
<script type="text/javascript" src="https://unpkg.com/@zxing/library@latest"></script>
<script type="text/javascript" src="{{ url_for('static', filename='scan_neutral.js') }}"></script>
{% endblock %}

{% block content %}

<div>
  <video id="video" style="border: 1px solid gray"></video>
</div>

<br>

<div>
  <button class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent" id="startButton">
    Start
  </button>
  <button class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent" id="resetButton">
    Reset
  </button>
</div>

<br>

  <form id="scanner-form" action="/verify" method="GET">
    <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
      <input class="mdl-textfield__input" type="text" id="loc_id" name="loc_id" value="{{ loc_id }}">
      <label class="mdl-textfield__label" for="sample1">Location ID</label>
    </div>
    <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
      <input class="mdl-textfield__input" type="text" id="survey_id" name="survey_id">
      <label class="mdl-textfield__label" for="sample1">Survey ID</label>
    </div>
    <button id="form-submit" type="submit" value="Submit" class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent">
      Submit
    </button>
  </form>
<div>
  <label for="sourceSelect">Change video source:</label>
  <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label" id="sourceSelectPanel">
    <select id="sourceSelect" class="mdl-textfield__input">
    </select>
  </div>
</div>


<audio id="accept" src="{{ url_for('static', filename='audio/accept.mp3') }}" preload="auto" controls="none" style="display: none;"></audio>
<audio id="reject" src="{{ url_for('static', filename='audio/reject.mp3') }}" preload="auto" controls="none" style="display: none;"></audio>

{% endblock %}
